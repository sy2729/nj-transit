{"id":"Focm","dependencies":[{"name":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/package.json","includedInParent":true,"mtime":1534368636000},{"name":"./scss/index.scss","loc":{"line":1,"column":17},"parent":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/index.js","resolved":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/scss/index.scss"},{"name":"./js/eventHub","loc":{"line":2,"column":17},"parent":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/index.js","resolved":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/js/eventHub.js"},{"name":"./js/timer","loc":{"line":3,"column":17},"parent":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/index.js","resolved":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/js/timer.js"},{"name":"./js/color","loc":{"line":4,"column":17},"parent":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/index.js","resolved":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/js/color.js"},{"name":"./js/color-input","loc":{"line":5,"column":17},"parent":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/index.js","resolved":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/js/color-input.js"},{"name":"./js/header-color-picker","loc":{"line":6,"column":16},"parent":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/index.js","resolved":"/Users/yuanshuai/Desktop/learn front-end/idea/transit-ticket/js/header-color-picker.js"}],"generated":{"js":"\"use strict\";function e(e,t){this.ele=e,this.timeToCountDown=t}require(\"./scss/index.scss\"),require(\"./js/eventHub\"),require(\"./js/timer\"),require(\"./js/color\"),require(\"./js/color-input\"),require(\"./js/header-color-picker\"),e.prototype={render:function(e){this.ele.textContent=\"Expires in \"+e.day+\":\"+e.hours+\":\"+e.minutes+\":\"+e.seconds},startCount:function(){var e=this;this.render(this.timeToCountDown);!function t(){setTimeout(function(){if(e.timeToCountDown>0){e.timeToCountDown--;var n=e.formate(e.timeToCountDown);e.render(n),t()}else alert(\"expired!\")},1e3)}()},formate:function(e){return{day:\"00\",hours:this.convertSmallTime(Math.floor(e/60/60)),minutes:this.convertSmallTime(Math.floor(e/60)%60),seconds:this.convertSmallTime(e%60)}},convertSmallTime:function(e){return e<10?\"0\"+e:e}};var t=new e(document.querySelector(\"#countDown\"),10080);t.startCount(),document.querySelector(\"#back\").addEventListener(\"click\",function(){eventHub.emit(\"open-color-input\")}),document.querySelector(\".top\").addEventListener(\"click\",function(){eventHub.emit(\"open-head-color-input\")});","map":{"mappings":[{"source":"index.js","original":{"line":58,"column":8},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":8,"column":8},"generated":{"line":1,"column":13}},{"source":"index.js","name":"CountDown","original":{"line":8,"column":17},"generated":{"line":1,"column":22}},{"source":"index.js","name":"ele","original":{"line":8,"column":27},"generated":{"line":1,"column":24}},{"source":"index.js","name":"duration","original":{"line":8,"column":32},"generated":{"line":1,"column":26}},{"source":"index.js","name":"ele","original":{"line":9,"column":17},"generated":{"line":1,"column":29}},{"source":"index.js","name":"ele","original":{"line":9,"column":17},"generated":{"line":1,"column":34}},{"source":"index.js","name":"ele","original":{"line":9,"column":23},"generated":{"line":1,"column":38}},{"source":"index.js","name":"timeToCountDown","original":{"line":10,"column":13},"generated":{"line":1,"column":40}},{"source":"index.js","name":"timeToCountDown","original":{"line":10,"column":13},"generated":{"line":1,"column":45}},{"source":"index.js","name":"duration","original":{"line":10,"column":31},"generated":{"line":1,"column":61}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":63}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":71}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":92}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":100}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":117}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":125}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":139}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":147}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":161}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":169}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":189}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":197}},{"source":"index.js","name":"CountDown","original":{"line":13,"column":8},"generated":{"line":1,"column":225}},{"source":"index.js","name":"prototype","original":{"line":13,"column":18},"generated":{"line":1,"column":227}},{"source":"index.js","original":{"line":13,"column":30},"generated":{"line":1,"column":237}},{"source":"index.js","original":{"line":13,"column":30},"generated":{"line":1,"column":238}},{"source":"index.js","name":"time","original":{"line":14,"column":19},"generated":{"line":1,"column":245}},{"source":"index.js","name":"time","original":{"line":14,"column":19},"generated":{"line":1,"column":254}},{"source":"index.js","name":"ele","original":{"line":15,"column":13},"generated":{"line":1,"column":257}},{"source":"index.js","name":"ele","original":{"line":15,"column":13},"generated":{"line":1,"column":262}},{"source":"index.js","name":"textContent","original":{"line":15,"column":17},"generated":{"line":1,"column":266}},{"source":"index.js","original":{"line":15,"column":31},"generated":{"line":1,"column":278}},{"source":"index.js","name":"time","original":{"line":15,"column":47},"generated":{"line":1,"column":292}},{"source":"index.js","name":"day","original":{"line":15,"column":52},"generated":{"line":1,"column":294}},{"source":"index.js","original":{"line":15,"column":58},"generated":{"line":1,"column":298}},{"source":"index.js","name":"time","original":{"line":15,"column":64},"generated":{"line":1,"column":302}},{"source":"index.js","name":"hours","original":{"line":15,"column":69},"generated":{"line":1,"column":304}},{"source":"index.js","original":{"line":15,"column":77},"generated":{"line":1,"column":310}},{"source":"index.js","name":"time","original":{"line":15,"column":83},"generated":{"line":1,"column":314}},{"source":"index.js","name":"minutes","original":{"line":15,"column":88},"generated":{"line":1,"column":316}},{"source":"index.js","original":{"line":15,"column":98},"generated":{"line":1,"column":324}},{"source":"index.js","name":"time","original":{"line":15,"column":104},"generated":{"line":1,"column":328}},{"source":"index.js","name":"seconds","original":{"line":15,"column":109},"generated":{"line":1,"column":330}},{"source":"index.js","original":{"line":13,"column":30},"generated":{"line":1,"column":339}},{"source":"index.js","original":{"line":17,"column":24},"generated":{"line":1,"column":350}},{"source":"index.js","original":{"line":17,"column":24},"generated":{"line":1,"column":361}},{"source":"index.js","original":{"line":17,"column":24},"generated":{"line":1,"column":365}},{"source":"index.js","original":{"line":17,"column":24},"generated":{"line":1,"column":367}},{"source":"index.js","name":"render","original":{"line":18,"column":17},"generated":{"line":1,"column":372}},{"source":"index.js","name":"render","original":{"line":18,"column":17},"generated":{"line":1,"column":377}},{"source":"index.js","original":{"line":18,"column":24},"generated":{"line":1,"column":384}},{"source":"index.js","name":"timeToCountDown","original":{"line":18,"column":29},"generated":{"line":1,"column":389}},{"source":"index.js","original":{"line":19,"column":21},"generated":{"line":1,"column":407}},{"source":"index.js","name":"update","original":{"line":19,"column":12},"generated":{"line":1,"column":416}},{"source":"index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":420}},{"source":"index.js","original":{"line":20,"column":23},"generated":{"line":1,"column":431}},{"source":"index.js","original":{"line":21,"column":20},"generated":{"line":1,"column":442}},{"source":"index.js","original":{"line":21,"column":20},"generated":{"line":1,"column":445}},{"source":"index.js","name":"timeToCountDown","original":{"line":21,"column":25},"generated":{"line":1,"column":447}},{"source":"index.js","original":{"line":21,"column":43},"generated":{"line":1,"column":463}},{"source":"index.js","original":{"line":21,"column":46},"generated":{"line":1,"column":465}},{"source":"index.js","name":"timeToCountDown","original":{"line":22,"column":25},"generated":{"line":1,"column":466}},{"source":"index.js","name":"timeToCountDown","original":{"line":22,"column":25},"generated":{"line":1,"column":468}},{"source":"index.js","name":"newTime","original":{"line":23,"column":24},"generated":{"line":1,"column":486}},{"source":"index.js","name":"newTime","original":{"line":23,"column":24},"generated":{"line":1,"column":490}},{"source":"index.js","original":{"line":23,"column":34},"generated":{"line":1,"column":492}},{"source":"index.js","name":"formate","original":{"line":23,"column":39},"generated":{"line":1,"column":494}},{"source":"index.js","original":{"line":23,"column":47},"generated":{"line":1,"column":502}},{"source":"index.js","name":"timeToCountDown","original":{"line":23,"column":52},"generated":{"line":1,"column":504}},{"source":"index.js","name":"render","original":{"line":24,"column":25},"generated":{"line":1,"column":521}},{"source":"index.js","name":"render","original":{"line":24,"column":25},"generated":{"line":1,"column":523}},{"source":"index.js","name":"newTime","original":{"line":24,"column":32},"generated":{"line":1,"column":530}},{"source":"index.js","name":"update","original":{"line":25,"column":20},"generated":{"line":1,"column":533}},{"source":"index.js","original":{"line":26,"column":31},"generated":{"line":1,"column":542}},{"source":"index.js","original":{"line":26,"column":31},"generated":{"line":1,"column":548}},{"source":"index.js","original":{"line":27,"column":15},"generated":{"line":1,"column":561}},{"source":"index.js","name":"update","original":{"line":29,"column":16},"generated":{"line":1,"column":566}},{"source":"index.js","original":{"line":13,"column":30},"generated":{"line":1,"column":570}},{"source":"index.js","name":"time","original":{"line":32,"column":20},"generated":{"line":1,"column":578}},{"source":"index.js","name":"time","original":{"line":32,"column":20},"generated":{"line":1,"column":587}},{"source":"index.js","name":"timeSet","original":{"line":39,"column":23},"generated":{"line":1,"column":590}},{"source":"index.js","original":{"line":33,"column":26},"generated":{"line":1,"column":596}},{"source":"index.js","original":{"line":34,"column":17},"generated":{"line":1,"column":597}},{"source":"index.js","original":{"line":34,"column":17},"generated":{"line":1,"column":601}},{"source":"index.js","original":{"line":35,"column":27},"generated":{"line":1,"column":606}},{"source":"index.js","original":{"line":35,"column":27},"generated":{"line":1,"column":612}},{"source":"index.js","name":"convertSmallTime","original":{"line":35,"column":32},"generated":{"line":1,"column":617}},{"source":"index.js","name":"Math","original":{"line":35,"column":49},"generated":{"line":1,"column":634}},{"source":"index.js","name":"floor","original":{"line":35,"column":54},"generated":{"line":1,"column":639}},{"source":"index.js","name":"time","original":{"line":35,"column":60},"generated":{"line":1,"column":645}},{"source":"index.js","original":{"line":35,"column":67},"generated":{"line":1,"column":647}},{"source":"index.js","original":{"line":35,"column":72},"generated":{"line":1,"column":650}},{"source":"index.js","original":{"line":36,"column":29},"generated":{"line":1,"column":655}},{"source":"index.js","original":{"line":36,"column":29},"generated":{"line":1,"column":663}},{"source":"index.js","name":"convertSmallTime","original":{"line":36,"column":34},"generated":{"line":1,"column":668}},{"source":"index.js","name":"Math","original":{"line":36,"column":51},"generated":{"line":1,"column":685}},{"source":"index.js","name":"floor","original":{"line":36,"column":56},"generated":{"line":1,"column":690}},{"source":"index.js","name":"time","original":{"line":36,"column":63},"generated":{"line":1,"column":696}},{"source":"index.js","original":{"line":36,"column":70},"generated":{"line":1,"column":698}},{"source":"index.js","original":{"line":36,"column":77},"generated":{"line":1,"column":702}},{"source":"index.js","original":{"line":37,"column":29},"generated":{"line":1,"column":706}},{"source":"index.js","original":{"line":37,"column":29},"generated":{"line":1,"column":714}},{"source":"index.js","name":"convertSmallTime","original":{"line":37,"column":34},"generated":{"line":1,"column":719}},{"source":"index.js","name":"time","original":{"line":37,"column":51},"generated":{"line":1,"column":736}},{"source":"index.js","original":{"line":37,"column":58},"generated":{"line":1,"column":738}},{"source":"index.js","original":{"line":13,"column":30},"generated":{"line":1,"column":744}},{"source":"index.js","name":"time","original":{"line":41,"column":29},"generated":{"line":1,"column":761}},{"source":"index.js","name":"time","original":{"line":41,"column":29},"generated":{"line":1,"column":770}},{"source":"index.js","name":"newTime","original":{"line":43,"column":23},"generated":{"line":1,"column":773}},{"source":"index.js","name":"time","original":{"line":42,"column":26},"generated":{"line":1,"column":780}},{"source":"index.js","original":{"line":42,"column":33},"generated":{"line":1,"column":782}},{"source":"index.js","original":{"line":42,"column":38},"generated":{"line":1,"column":785}},{"source":"index.js","name":"time","original":{"line":42,"column":44},"generated":{"line":1,"column":789}},{"source":"index.js","name":"time","original":{"line":42,"column":51},"generated":{"line":1,"column":791}},{"source":"index.js","original":{"line":48,"column":8},"generated":{"line":1,"column":795}},{"source":"index.js","name":"time","original":{"line":48,"column":12},"generated":{"line":1,"column":799}},{"source":"index.js","original":{"line":48,"column":19},"generated":{"line":1,"column":801}},{"source":"index.js","name":"CountDown","original":{"line":48,"column":23},"generated":{"line":1,"column":805}},{"source":"index.js","name":"document","original":{"line":48,"column":33},"generated":{"line":1,"column":807}},{"source":"index.js","name":"querySelector","original":{"line":48,"column":42},"generated":{"line":1,"column":816}},{"source":"index.js","original":{"line":48,"column":56},"generated":{"line":1,"column":830}},{"source":"index.js","original":{"line":48,"column":71},"generated":{"line":1,"column":844}},{"source":"index.js","name":"time","original":{"line":49,"column":8},"generated":{"line":1,"column":851}},{"source":"index.js","name":"startCount","original":{"line":49,"column":13},"generated":{"line":1,"column":853}},{"source":"index.js","name":"document","original":{"line":53,"column":8},"generated":{"line":1,"column":866}},{"source":"index.js","name":"querySelector","original":{"line":53,"column":17},"generated":{"line":1,"column":875}},{"source":"index.js","original":{"line":53,"column":31},"generated":{"line":1,"column":889}},{"source":"index.js","name":"addEventListener","original":{"line":53,"column":40},"generated":{"line":1,"column":898}},{"source":"index.js","original":{"line":53,"column":57},"generated":{"line":1,"column":915}},{"source":"index.js","original":{"line":53,"column":66},"generated":{"line":1,"column":923}},{"source":"index.js","name":"emit","original":{"line":54,"column":21},"generated":{"line":1,"column":934}},{"source":"index.js","name":"emit","original":{"line":54,"column":21},"generated":{"line":1,"column":943}},{"source":"index.js","original":{"line":54,"column":26},"generated":{"line":1,"column":948}},{"source":"index.js","name":"document","original":{"line":58,"column":8},"generated":{"line":1,"column":970}},{"source":"index.js","name":"querySelector","original":{"line":58,"column":17},"generated":{"line":1,"column":979}},{"source":"index.js","original":{"line":58,"column":31},"generated":{"line":1,"column":993}},{"source":"index.js","name":"addEventListener","original":{"line":58,"column":39},"generated":{"line":1,"column":1001}},{"source":"index.js","original":{"line":58,"column":56},"generated":{"line":1,"column":1018}},{"source":"index.js","original":{"line":58,"column":65},"generated":{"line":1,"column":1026}},{"source":"index.js","name":"emit","original":{"line":59,"column":21},"generated":{"line":1,"column":1037}},{"source":"index.js","name":"emit","original":{"line":59,"column":21},"generated":{"line":1,"column":1046}},{"source":"index.js","original":{"line":59,"column":26},"generated":{"line":1,"column":1051}}],"sources":{"index.js":"import {  } from \"./scss/index.scss\";\nimport {  } from \"./js/eventHub\";\nimport {  } from \"./js/timer\";\nimport {  } from \"./js/color\";\nimport {  } from \"./js/color-input\";\nimport { } from \"./js/header-color-picker\";\n\n        function CountDown(ele, duration){\n            this.ele = ele;\n        this.timeToCountDown = duration;\n        }\n\n        CountDown.prototype = {\n            render(time){\n        this.ele.textContent = 'Expires in ' + time.day + ':' + time.hours + ':' + time.minutes + ':' + time.seconds;\n            },\n            startCount(){\n            this.render(this.timeToCountDown);\n        let update = ()=>{\n            setTimeout(() => {\n                if (this.timeToCountDown > 0) {\n                    this.timeToCountDown--;\n                    let newTime = this.formate(this.timeToCountDown);\n                    this.render(newTime);\n                    update();\n                } else { alert('expired!'); };\n            }, 1000);\n        };\n                update();\n            },\n\n            formate(time){\n            let timeSet = {\n            day: '00',\n                    hours: this.convertSmallTime(Math.floor(time / 60 / 60)),\n                    minutes: this.convertSmallTime(Math.floor((time / 60)) % 60),\n                    seconds: this.convertSmallTime(time % 60),\n                }\n                return timeSet;\n            },\n            convertSmallTime(time) {\n            let newTime = time < 10 ? '0' + time : time;\n                return newTime;\n            },\n\n        }\n\n        let time = new CountDown(document.querySelector('#countDown'), 60*60*2.8);\n        time.startCount();\n\n\n        // listen to color-input component Open\n        document.querySelector('#back').addEventListener('click', ()=>{\n            eventHub.emit('open-color-input');\n        })\n\n        // listen to head-color-input component Open\n        document.querySelector('.top').addEventListener('click', () => {\n            eventHub.emit('open-head-color-input');\n        })"},"lineCount":null}},"hash":"bc1ee54f83f5b65ca321790bd89156d4","cacheData":{"env":{}}}